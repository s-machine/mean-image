
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Mean Images</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/drag-drop.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="js/jquery.mousewheel.min.js"></script>
<script src="js/jquery.easing.js"></script>
<script src="js/jquery.singular.js"></script>
<script src="js/isotope.pkgd.min.js"></script>
<script src="js/packery-mode.pkgd.min.js"></script>
<script src="js/hexcodeToValue.js" type="text/javascript"></script>
<script type="text/javascript" src="js/d3.v4.js"></script>
<script>
$(function() {
    $('.js-singular').singular({
        section: '.mod-singular-section',
        nav: '.js-singular-nav',
        prev: '.js-singular-prev',
        next: '.js-singular-next',
        navActiveClass: 'js-singular-active',
        scrollSpeed: 1000,
        mousewheel: true,
        easing: 'easeInOutQuart',
        scrollEnd: function(elem) {
        }
    });
});
</script>
</head>

<body>
<div class="mod-page">
    <div class="mod-singular js-singular">

        <!--page_1 Intro-->
        <div id="sec01" class="mod-singular-section">
            <div class="mod-singular-section-in">
                <div class="transbox">
                    <h1 class="mod-singular-ttl">Mean Images</h1>
                    <h2 class="mod-singular-subttl">an exploration of culture through pixels</h2>
                    <p id="authors" class="mod-singular-txt"><a href="/">Xingxin Chen</a>, <a href="http://sienaduplan.com">Siena Duplan</a>, <a href="https://godsamit.github.io/Samson-Liu-Website/">Samson Liu</a></p>
                </div>
                <!--next_page_button-->
                <p class="mod-singular-pager"><a href="" class="mod-singular-next js-singular-next"></a></p>
                <!--next_page_button-->
                <div id="salavon">
                    <p class="circled"><a href="http://salavon.com/work/EveryPlayboyCenterfoldDecades/" target="_blank">?</a></p>
                </div>
            </div>
        </div>

        <!--page_2 Salavon-->
        <section id="sec02" class="mod-singular-section">
            <div class="mod-singular-section-in">
                <h2 class="mod-singular-hdng">What is a "mean" image?</h2>
                <p class="mod-singular-txt-2">
                  Images like the ones below are the result of mathematically <em>averaging</em> several photographs. Averaging pixels is a simple process where each pixel is treated as a numeric point with an RGB value. 
                </p>
                <p class="mod-singular-txt-2">
                  This project wishes to use mean image as a tool, to explore ways to visualize and interact with image as <em>unstructured data</em>. This is inspired by the artwork of contemporary artist <a href="http://www.salavon.com" target="_blank">Jason Salavon</a> whose series <a href="http://salavon.com/work/SpecialMoments/" target ="_blank">"100 Special Moments”</a> is shown below. Salavon is known for using computer software to reconfigure existing media into fine art. His series on averaged images straddles the boundary between art and data visualization, often revealing <em>intuitive and never-before-seen patterns</em> in the pixels captured in photographs.
                <p>Hover over the images to see more!</p>
                <div class="salavon-grid">
                    <a href="http://salavon.com/work/SpecialMoments/" target="_blank">
                        <img src="images/salavon/100moments-1.jpg" height="200" class="salavon-photo" id="S-1"></a>
                    <a href="http://salavon.com/work/SpecialMoments/" target="_blank">
                        <img src="images/salavon/100moments-2.jpg" height="200" class="salavon-photo" id="S-2"></a>
                    <a href="http://salavon.com/work/SpecialMoments/" target="_blank">
                        <img src="images/salavon/100moments-3.jpg" height="200" class="salavon-photo" id="S-3"></a>
                    <a href="http://salavon.com/work/SpecialMoments/" target="_blank">
                        <img src="images/salavon/100moments-4.jpg" height="200" class="salavon-photo" id="S-4"></a>
                </div>
                <!--next_page_button-->
                <p class="mod-singular-pager"><a href="" class="mod-singular-next js-singular-next"></a></p>
                <!--next_page_button-->
            </div>
            <!--javascript-image-layout-->
            <script>
                var $grid = $('.salavon-grid').isotope({
                    // main isotope options
                    itemSelector: '.salavon-photo',
                    // set layoutMode
                    layoutMode: 'fitRows',
                    // options for cellsByRow layout mode
                    fitRows: {
                        gutter: 5,
                        rowHeight: 150
                    },
                    // options for masonry layout mode
                })
            </script>
            <!--javascript-d3-graphics-->
            <script>
                function getSum(total, num){
                    return total + num;
                }
              
                $('.salavon-photo').mouseenter(function(){
                    var id = Number($(this).attr("id")[2]); 
                    //not making it responsive... magic numbers
                    widthArray = [151,159,131,250]
                    var img_width = widthArray[id-1];
                    if (id == 1) startX = 0;
                    else{
                      var startX = widthArray.slice(0,id-1).reduce(getSum) + 5*(id-1);
                    }
                    var barChart = d3.select(".salavon-grid")
                                      .append("svg")
                                      .attr("class","salavon-bar bar-"+$(this).attr("id"))
                                      .attr("width", 1000)
                                      .attr("height", 75);
                  
                    d3.json("data/salavon.json", function(error,data){
                        if (error) throw error;
                        let listLength = data[id-1].colorList.length;
                        barChart.selectAll("rect")
                            .data(data[id-1].colorList)
                            .enter()
                            .append("rect")
                            .attr("height","0")
                            .attr("width",function(d,i){return img_width/listLength})
                            .attr("x",function(d,i){return startX+i*(img_width/listLength)})
                            .attr("y","0")
                            .attr("fill", function(d,i){return d})
                            .transition()
                            .duration(function(d,i) { return hexToValue(d)*500; })
                            .attr("height",function(d,i){return hexToValue(d)*75});
                    })

                }).mouseleave(function(){
                      var currID = $(this).attr("id");
                    d3.select("#sec02").selectAll("rect")
                        .transition("1000")
                        .attr("height","0")
                        .on("end", function(){
                          d3.select("#sec02").selectAll(".bar-"+currID).remove();
                        });
                });

            </script>
        </section>

        <!--page_3 Faces-->
        <section id="sec03" class="mod-singular-section">
            <div class="mod-singular-section-in">
                <h2 class="mod-singular-hdng">An "average" face?</h2>
                <div class="container">
                    <img src="images/cropped_yale.gif" width="75%">
                    <p class="mod-singular-txt-3 bottom-right">
                        The <a href="http://academictorrents.com/details/aad8bf8e6ee5d8a3bf46c7ab5adfacdd8ad36247" target="_blank">Cropped Yale Dataset</a> is a widely-used dataset for machine learning and image processing research. The dataset contains 16128 images of 28 human subjects in 9 poses and 64 illumination conditions. It’s popularity is due in part to its high-quality alignment of facial features which allows the "mean" image of thousands of images to resemble a single face. <br> Interestingly, the more images that are used to compute the average face, the slower the rate of change in the mean image. That is, the average image tends to <em>converge fairly quickly</em> (between 20 and 50 images). See for yourself below! 
                    </p>
                </div>
                <!--next_page_button-->
                <p class="mod-singular-pager"><a href="" class="mod-singular-next js-singular-next"></a></p>
                <!--next_page_button-->
            </div>
        </section>

        <!--page_4 Convergence-->
        <section id="sec04" class="mod-singular-section">
            <div class="mod-singular-section-in">
                <h2 class="mod-singular-hdng">Can you find the point of convergence?</h2>
                <div class="grid-container">
                  <!--final image-->
                    <div class="grid-item">
                        <img src="images/mean_faces/mean_faces_2414.png" width="85%">
                    </div>
                    <!--slider image-->
                    <div class="grid-item">
                        <img id="faces" width="85%">
                    </div>

                    <div class="gird-item">
                      <p class="grid-item converge-txt speech-bubble">The mean face composed of 100 images already begins to look similar to the average of all 2,414 faces. This means that if we took the "average" of every human's face on Earth, we <b>wouldn't expect the face to look much different</b> from the image on the right. </p>
                      <p class="grid-item converge-txt-2 speech-bubble">This is very inspiring. It means that by a <b>small</b> sample of an image dataset, we can achieve an overall understanding of <b>the whole</b>.</p>
                    </div>
                  
                    <!--slider+caption-->
                    <span class="grid-item face-number" id ="fn2">
                        2414 faces
                    </span>
                    <div class="grid-item">
                        <input class="slider-width2" id="valR" type="range" min="0" max="5" value="0" step="1" oninput="showVal(this.value)" onchange="showVal(this.value)" />
                        <span id="range">0</span>
                        <div class="grid-item face-number">
                          <span id="realval">10 faces</span>
                        </div>
                    </div>  
                </div>
                <script>
                    var val = $("#valR").val();
                    $("#range").html=val;
                    var numImages = 10;
                    $("#faces").attr("src", "images/mean_faces/mean_faces_" + numImages + ".png");
                    function showVal(newVal){
                        if (newVal >= 2){ 
                            $(".converge-txt").animate({opacity: '1'},"slow");
                        }
                        if (newVal >= 3){ 
                            $(".converge-txt-2").animate({opacity: '1'},"slow");
                        }
                        numImagesArr=["10", "50", "100", "500", "1000", "2414"]
                        numImages=numImagesArr[newVal];
                        $("#range").html(newVal);
                        $("#realval").html(numImagesArr[newVal]+" faces");
                        $("#faces").attr("src", "images/mean_faces/mean_faces_" + numImages + ".png");
                    }
                </script>
                <!--next_page_button-->
                <p class="mod-singular-pager"><a href="" class="mod-singular-next js-singular-next"></a></p>
                <!--next_page_button-->
            </div>
        </section>

        <!--page_5 History-->
        <section id="sec05" class="mod-singular-section">
          <div class="mod-singular-section-in">
            <h2 class="mod-singular-hdng">Faces throughout <i>Time</i> </h2>
              <div class="time-container">
              <!--slider image-->
                <div class="time-div">
                  <div class="time-img">
                    <img id="time-magazine" height="100%">
                  </div>
                  <p id="time-cap">1923</p>
                  <!--slider+caption-->
                  <div id="slider-range-max">
                    <input step="1" class="slider-width time-slider" id="year" type="range" min="1923" max="2018" value="0" oninput="changeAll(this.value)" onchange="changeAll(this.value)" />
                    <span id="slider-thumb" class="thumb-tag">1923</span>
                  </div>
                  <p class="time-intro">Time magazine has been famous for featuring <b>faces</b> on its covers. <br>The mean image on the right is generated from the all the <a href="http://time.com/" target ="_blank"><i>Time</i></a> Magazines in a year, since its inception until 2018. See if you can identify any historical events/figures from the mean images. </p>
                  <br>
                  <div class="features">
                    <p class="feature-txt"></p>
                    <p class="feature-img"></p>
                  </div>
                </div>  
              </div>
                <!--ticks on slider-->
              <script>
                var width = $("#year")[0].clientWidth;
                var years = 95;
                var ticksValAl   = [1923,1925,1927,1928,1952,1939,1945,1954,1966,1974,1976,1993,2017,2018];
                var ticksPosAll  = [1,   3,   5,   6,   30,  17,  23,  32,  44,  52,  54,  71,  95,  96];
                var ticksVal     = [1923,1925,1927,1939,1945,1954,1966,1993,2017,2018];
                var ticksPos     = [1,   3,   5,   17,  23,  32,  44,  71,  95,  96];
                var rectEntry    = [3, 9];
                var ticks = d3.select("#slider-range-max")
                              .append("svg")
                              .attr("class","stacked-bar")
                              .attr("width", width+15)
                              .attr("height", 40);
                function draw(){
                  ticks.selectAll("rect")
                        .data(rectEntry)
                        .enter()
                        .append("rect")
                        .attr("rx", "10")
                        .attr("ry", "10")
                        .attr("x", function(d,i){return (ticksPosAll[d]*((width-20)/years));})
                        .attr("y", "8")
                        .attr("width", function(d,i){return ((ticksPosAll[d+1]-ticksPosAll[d])*((width-20)/years)+20);})
                        .attr("height", "20")
                        .attr("fill", "#66666616")
                        .attr("class", "ticks")
                        .append();
                  ticks.selectAll("circle")
                        .data(ticksVal)
                        .enter()
                        .append("circle")
                        .attr("cx", function(d,i){return 10+(ticksPos[i]*((width-20)/years));})
                        .attr("cy", "18")
                        .attr("r", "10")
                        .attr("fill", "#f0454540")
                        .attr("class", "ticks")        
                }
                draw();

              </script>

              <!--change_cover+D3_bar_chart-->
              <script>      
                //change_cover
                var year = $("#year").val();
                var timeCover = "images/time/Time-" + year + ".jpg" ;
                $("#time-magazine").attr("src", timeCover);

                //D3_bar_chart
                var barChart = d3.select(".time-img")
                .insert("svg",":first-child")
                .attr("class","stacked-bar")
                .attr("width", 100)
                .attr("height", 500)

                var timeHeight = $("#time-magazine")[0].clientHeight;

                //load bar-chart
                d3.json("data/time.json",function(error, data){
                  if (error) throw error;
                  barChart.selectAll("rect")
                        .remove();
                  var colorLength = data[0].colorList.length;
                  barChart.selectAll("rect")
                    .data(data[0].colorList)
                    .enter()
                    .append("rect")
                    .attr("height",function(d,i){return timeHeight/colorLength})
                    .attr("width", function(d,i){return hexToValue(d)*100})
                    .attr("x",function(d,i){ return 100 - hexToValue(d)*100})
                    .attr("y",function(d,i){ return i*(timeHeight/colorLength)})
                    .attr("fill", function(d,i){return d});
                });
                
                $(".feature-txt").html("Time magazine released its first issue in March, 1923. From the start, its cover features faces of important people. <br>In its first year, it featured: Winston Churchill, President Rooservelt, Andrew Mellon, Mussolini, as well as G B Shaw.").addClass("speech-bubble");
                $(".feature-img").append('<img src="images/time_explanation/1923.jpg"/>')

                function changeTimeCover(year){
                  var timeCover = "images/time/Time-" + year + ".jpg" ;
                  $("#time-magazine").attr("src", timeCover);
                  $("#time-cap").html(year);
                }

                function changeBar(year){
                  var index = year - 1923;
                  var timeHeight = $("#time-magazine")[0].clientHeight;
                  d3.json("data/time.json",function(error, data){
                    if (error) throw error;
                    var colorLength = data[0].colorList.length;
                    barChart.selectAll("rect")
                            .remove();
                    barChart.selectAll("rect")
                            .data(data[index].colorList)
                            .enter()
                            .append("rect")
                            .attr("height","1.07")
                            .attr("y",function(d,i){ return i*(timeHeight/colorLength)})
                            .attr("fill", function(d,i){return d})
                            .attr("x","100")
                            .attr("width","0")
                            .transition()
                            .duration(function(d, i) { return hexToValue(d)*600; })
                            .attr("x","45")
                            .attr("width", function(d,i){return hexToValue(d)*100})
                            .attr("x",function(d,i){return 100 - hexToValue(d)*100});

                  var width = $("#year")[0].clientWidth;
                  var position = 340+(width-20)/96*index;
                  $("#slider-thumb").html(year);
                  $("#slider-thumb").css("left", position);
                  });
                }

                function changeAll(year){
                  changeTimeCover(year);
                  changeBar(year);
                  if(year==1966){
                    $(".feature-img").empty();
                    $(".feature-txt").html("I spy a suit and tie in the bottom half of the image.")
                                      .addClass("speech-bubble");
                    $(".feature-img").append('<img src="images/time_explanation/men.png" />');
                  }
                  else if(year==1993){
                    $(".feature-img").empty();
                    $(".feature-txt").html("1993 covers featured text-heavy covers with bold black, white, and yellow titles spread across the covers.")
                                      .addClass("speech-bubble");
                    $(".feature-img").append('<img src="images/time_explanation/time_1993.png"/>')
                  }
                  else if(year==1954){
                    $(".feature-img").empty();
                    $(".feature-txt").html("In 1954, the magazine started to remove the white padding on the covers, and started feature headshots in different places on the cover.")
                                      .addClass("speech-bubble");
                    $(".feature-img").append('<img src="images/time_explanation/1954.jpg"/>')
                  }
                  else if(year==1923){
                    $(".feature-img").empty();
                    $(".feature-txt").html("Time magazine released its first issue in March, 1923. From the start, its cover features faces of important people. <br>In its first year, it featured: Winston Churchill, President Rooservelt, Andrew Mellon, Mussolini, as well as G B Shaw.")
                                      .addClass("speech-bubble");
                    $(".feature-img").append('<img src="images/time_explanation/1923.jpg"/>')
                  }
                  else if(year==1925) {  
                    $(".feature-img").empty();
                    $(".feature-txt").animate({opacity: '1'},"fast")
                                        .html("At its inception, the magazine didn't have its now-famous signature red border. <br>Funny thing: most covers feature bold men.")
                                        .addClass("speech-bubble");
                    $(".feature-img").append('<img src="images/time_explanation/1925.jpg"/>')
                  }
                  else if(year==1927) {
                    $(".feature-img").empty();
                    $(".feature-txt").html("Four years after the first magazine, the red border is added.")
                                        .addClass("speech-bubble");

                  }
                  else if(year==2017){
                    $(".feature-img").empty();
                    $(".feature-txt").html("The year of...")
                                      .addClass("speech-bubble");
                    $(".feature-img").append('<img src="images/time_explanation/trmp_2017.png"" style="width:350px" />');
                  }
                  else if(year==2018){
                    $(".feature-img").empty();
                    $(".feature-txt").html("Welcome to today. Can you spot this cover? ;)")
                                      .addClass("speech-bubble");
                    $(".feature-img").append('<img src="images/time_explanation/trump.jpg"/>');
                  }
                  else if(year >= 1928 && year <= 1952) {
                    $(".feature-img").empty();
                    $(".feature-txt").html("During these years (1928 – 1952), a consistent theme appears: red border and a lot of white space around a headshot (usually of a man).")
                                      .addClass("speech-bubble");
                    if (year == 1939){
                      $(".feature-txt").html("During these years (1928 – 1952), a consistent theme appears: red border and a lot of white space around a headshot (usually of a man).<br>1939 is the start of WWII. Relevant people are featured on the covers this year. e.g. Hitler, Churchill, and Simgly-Rydz")
                                      .addClass("speech-bubble");
                      $(".feature-img").empty().append('<img src="images/time_explanation/1939.jpg"/>');
                    }
                    if (year == 1945){
                      $(".feature-txt").html("During these years (1928 – 1952), a consistent theme appears: red border and a lot of white space around a headshot (usually of a man).<br>During WWII, Time magazine often features military officers.")
                                      .addClass("speech-bubble");
                      $(".feature-img").empty().append('<img src="images/time_explanation/1945.jpg"/>');
                    }
                  }
                  else if(year >= 1974 && year <= 1976) {
                    $(".feature-img").empty();
                    $(".feature-txt").html("Watch closely what happens between 1974 and 1976. There appears to be a shift in the prominence of a recognizable face in the data. In the modern history of Time magazine, fewer faces are featured and covers become less about individual people.")
                                      .addClass("speech-bubble");
                  }
                  else{ 
                    $(".feature-txt").removeClass("speech-bubble").empty();
                    $(".feature-img").empty();
                  }
                    changeTimeCover(year);
                    changeBar(year);
                }
              </script>

              <!--next_page_button-->
              <p class="mod-singular-pager"><a href="" class="mod-singular-next js-singular-next"></a></p>
              <!--next_page_button-->
            </div>
        </section>

        <!--page_6 Comparison-->
        <section id="sec06" class="mod-singular-section">
          <div class="mod-singular-section-in">
            <h2 class="mod-singular-hdng">Comparison -> Revelation</h2>
            <span id="filters" class="button-group">
              <button class="button is-checked" data-filter="*">Explore All</button>
              <button class="button" data-filter=".mvw">Men vs Women</button>
              <button class="button" data-filter=".countries">Magazines in different countries</button>
            </span>
            <!--draggable covers a-->
            <span class="magazine-grid-a magazines">
              <span class="magazine  mvw">
                <span id="draggable-a" class="ui-widget-content menshealth">
                  <img src="images/comparison/mens_health1.jpg" width = "100">
                </span>
              </span>
              <span class="magazine countries">
                <span id="draggable-a" class="ui-widget-content usa">
                  <img src="images/comparison/usa.jpg" width = "100">
                </span>
              </span>
              <span class="magazine mvw">
                <span id="draggable-a" class="ui-widget-content gq">
                  <img src="images/comparison/gq.jpg" width = "100">
                </span>
              </span>
              <span class="magazine countries">
                <span id="draggable-a" class="ui-widget-content italia">
                  <img src="images/comparison/italia.jpg" width = "100">
                </span>
              </span>
            </span>

            <!--drop off area-->
            <span class="comparison-container">           
              <span>
                <span id="droppable-a" class="ui-widget-header" style="display: inline-block">
                  <p>Drag a magazine here</p>
                </span>
              </span>
              <span>
                <span id="droppable-b" class="ui-widget-header" style="display: inline-block;">
                  <p>Drag a magazine here</p>
                </span>
              </span>
            </span>

            <!--draggable covers b-->  
            <span class="magazine-grid-b magazines">
              <span class="magazine mvw">
                <span id="draggable-b" class="ui-widget-content womenshealth">
                  <img src="images/comparison/womens_health1.jpg" width = "100">
                </span>
              </span>
              <span class="magazine countries">
                <span id="draggable-b" class="ui-widget-content japan">
                  <img src="images/comparison/japan.jpg" width = "100">
                </span>
              </span>
              <span class="magazine countries">
                <span id="draggable-b" class="ui-widget-content esquire">
                  <img src="images/comparison/esquire.jpg" width = "100">
                </span>
              </span>  
              <span class="magazine mvw">
                <span id="draggable-b" class="ui-widget-content glamour">
                  <img src="images/comparison/glamour.jpg" width = "100">
                </span>
              </span>  
            </span>
            <!--filter-->
            <script>
              // init Isotope
              var $gallery = $('.magazines').isotope({
                itemSelector: '.magazine',
                layoutMode: 'vertical',
                vertical: {
                  horizontalAlignment: 0
                  }
                });

              // bind filter button click
              $('.button-group').on( 'click', 'button', function() {
                var filterValue = $( this ).attr('data-filter');
                $gallery.isotope({ filter: filterValue });
              });

              // change is-checked class on buttons
              $('.button-group').each( function( i, buttonGroup ) {
                var $buttonGroup = $( buttonGroup );
                $buttonGroup.on( 'click', 'button', function() {
                $buttonGroup.find('.is-checked').removeClass('is-checked');
                $(this).addClass('is-checked');
                });
              });
            </script>
            <!--drag and drop-->
            <script>
              $( function() {
                $("#draggable-a, #draggable-b").draggable({ revert: "valid" });
                $("#droppable-a").droppable({
                  accept: "#draggable-a",
                  classes: {
                    "ui-droppable-active": "ui-state-active-a",
                    "ui-droppable-hover": "ui-state-hover-a"
                  },
                  drop: function(event,ui) {
                    if ($(ui.draggable).hasClass("menshealth")){
                      $(this).empty().append('<img src="images/comparison/Result/mens_health_all.png" width="347px", height="450px">');
                    }
                    else if ($(ui.draggable).hasClass("usa")){
                      $(this).empty().append('<img src="images/comparison/Result/vogue_usa.jpg" width="347px", height="450px">');
                    }
                    else if ($(ui.draggable).hasClass("italia")){
                      $(this).empty().append('<img src="images/comparison/Result/vogue_italia.png" width="347px", height="450px">');
                    }
                    else return;
                  }
                });
                $( "#droppable-b" ).droppable({
                  accept: "#draggable-b",
                  classes: {
                    "ui-droppable-active": "ui-state-active-b",
                    "ui-droppable-hover": "ui-state-hover-b"
                  },
                  drop: function(event,ui){
                    if ($(ui.draggable).hasClass("womenshealth")){
                      $(this).empty().append('<img src="images/comparison/Result/womens_health_all.png" width="347px", height="450px">');
                    }
                    else if ($(ui.draggable).hasClass("japan")){
                      $(this).empty().append('<img src="images/comparison/Result/vogue_japan.jpg" width="347px", height="450px">');
                    }
                  }
                });
              });
            </script>
            <!--next_page_button-->
            <p class="mod-singular-pager"><a href="" class="mod-singular-next js-singular-next"></a></p>
            <!--next_page_button-->
        </div>
    </section>

    <!--page_7 Exploratory-->  
    <section id="sec07" class="mod-singular-section">
      <div class="mod-singular-section-in">
        <h2 class="mod-singular-hdng">Explore more mean images</h2>
          <h3>Hover over the images below to discover topic.</h3>
          <div class="exploratory">
            <a href="http://www.laurainthekitchen.com/recipe-category.php?category=BEVERAGE" class="ex-container  Beverage.jpg" target="_blank">
                <img src="images/exploratory/Beverage.jpg" height="200" class="exploratory-photo food">
                <h2 class="img-name">Beverages</h2>
            </a>
            <a href="https://www.instagram.com/icecream/" class="ex-container Ice-Cream.jpg" target="_blank">
                <img src="images/exploratory/Ice-Cream.jpg" height="200" class="exploratory-photo youtube">
                <h2 class="img-name">Ice Cream</h2>
            </a>
            <a href="https://www.youtube.com/user/TheFineBros" class="ex-container React.jpg" target="_blank">
                <img src="images/exploratory/React.jpg" height="200" class="exploratory-photo youtube">
                <h2 class="img-name">React Videos</h2>
            </a>
            <a href="https://www.youtube.com/results?search_query=73+questions vogue-73-questions.jpg" class="ex-container vogue-73-questions.jpg" target="_blank">
                <img src="images/exploratory/vogue-73-questions.jpg" height="200" class="exploratory-photo youtube">
                <h2 class="img-name">73 Questions</h2>
            </a>
            <a href="https://www.zillow.com/homes/los-angelos_rb/" class="ex-container Average-LA.jpg" target="_blank">
                <img src="images/exploratory/Average-LA.jpg" height="200" class="exploratory-photo youtube">
                <h2 class="img-name">Zillow - Los Angeles</h2>
            </a>
            <a href="https://www.zillow.com/homes/seattle_rb/" class="ex-container Average-Seattle.jpg" target="_blank">
                <img src="images/exploratory/Average-Seattle.jpg" height="200" class="exploratory-photo youtube">
                <h2 class="img-name">Zillow - Seattle</h2>
            </a>
            <a href="https://www.instagram.com/explore/tags/tajmahal/" class="ex-container Taj-Mahal.jpg" target="_blank">
                <img src="images/exploratory/Taj-Mahal.jpg" height="200" class="exploratory-photo youtube">
                <h2 class="img-name">Taj Mahal</h2>
            </a>
            <a href="https://www.instagram.com/explore/tags/pisa/" class="ex-container Pisa.jpg" target="_blank">
                <img src="images/exploratory/Pisa.jpg" height="200" class="exploratory-photo youtube">
                <h2 class="img-name">Leaning Tower of Pisa</h2>
            </a> 
          </div>
          <script>
                $("#droppable-b" ).droppable({
                  accept: "#draggable-b",
                  classes: {
                    "ui-droppable-active": "ui-state-active-b",
                    "ui-droppable-hover": "ui-state-hover-b"
                  },
                  drop: function(event,ui){
                    $(this).empty().append('<img src="images/small_womens.png" width="347px", height="450px">');
                  }
                });
          </script>
          <!--next_page_button-->
          <p class="mod-singular-pager"><a href="" class="mod-singular-next js-singular-next"></a></p>
          <!--next_page_button-->
          </div> 
        </section>

        <!--page_7 Exploratory-->  
        <section id="sec07" class="mod-singular-section">
          <div class="mod-singular-section-in">
            <h2 class="mod-singular-hdng">Explore more mean images!</h2>
              <h3>Put your mouse over the images to find out what the topics are.</h3>
              <div class="exploratory">
                <a href="http://www.laurainthekitchen.com/recipe-category.php?category=BEVERAGE" class="ex-container  Beverage.jpg" target="_blank">
                  <img src="images/exploratory/Beverage.jpg" height="200" class="exploratory-photo food">
                  <h2 class="img-name">Beverages</h2>
                </a>
                <a href="https://www.instagram.com/icecream/" class="ex-container Ice-Cream.jpg" target="_blank">
                  <img src="images/exploratory/Ice-Cream.jpg" height="200" class="exploratory-photo youtube">
                  <h2 class="img-name">Ice Cream</h2>
                </a>
                <a href="https://www.youtube.com/user/TheFineBros" class="ex-container React.jpg" target="_blank">
                  <img src="images/exploratory/React.jpg" height="200" class="exploratory-photo youtube">
                  <h2 class="img-name">React Videos</h2>
                </a>
                <a href="https://www.youtube.com/results?search_query=73+questions vogue-73-questions.jpg" class="ex-container vogue-73-questions.jpg" target="_blank">
                  <img src="images/exploratory/vogue-73-questions.jpg" height="200" class="exploratory-photo youtube">
                  <h2 class="img-name">73 Questions</h2>
                </a>
                <a href="https://www.zillow.com/homes/los-angelos_rb/" class="ex-container Average-LA.jpg" target="_blank">
                  <img src="images/exploratory/Average-LA.jpg" height="200" class="exploratory-photo youtube">
                  <h2 class="img-name">Zillow - Los Angeles</h2>
                </a>
                <a href="https://www.zillow.com/homes/seattle_rb/" class="ex-container Average-Seattle.jpg" target="_blank">
                  <img src="images/exploratory/Average-Seattle.jpg" height="200" class="exploratory-photo youtube">
                  <h2 class="img-name">Zillow - Seattle</h2>
                </a>
                <a href="https://www.instagram.com/explore/tags/tajmahal/" class="ex-container Taj-Mahal.jpg" target="_blank">
                  <img src="images/exploratory/Taj-Mahal.jpg" height="200" class="exploratory-photo youtube">
                  <h2 class="img-name">Taj Mahal</h2>
                </a>
                <a href="https://www.instagram.com/explore/tags/pisa/" class="ex-container Pisa.jpg" target="_blank">
                  <img src="images/exploratory/Pisa.jpg" height="200" class="exploratory-photo youtube">
                  <h2 class="img-name">Leaning Tower of Pisa</h2>
                </a> 
              </div>

              <!--next_page_button-->
              <p class="mod-singular-pager"><a href="" class="mod-singular-prev js-singular-prev"></a></p>
              <!--next_page_button-->
            <script>
              var $grid = $('.exploratory').isotope({
                // main isotope options
                itemSelector: '.ex-container',
                // set layoutMode
                layoutMode: 'packery',
                packery: {
                  gutter:10
                }
              })
              $(".ex-container").mouseenter(function(){
                $(this).find(".img-name").animate({opacity: 1},'fast');
              }).mouseleave(function(){
                $(this).find(".img-name").animate({opacity: 0},'fast');
              });
            </script>
           <!--javascript d3 graphics-->

            <script>            
              function drawChart(filename, height){
                var barChart = d3.select("a[class$='"+filename+"']")
                  .append("svg")
                  .attr("class","ex-bar")
                  .attr("width", 25)
                  .attr("height", height);

                d3.json("data/exploratory.json", function(error,data){
                  if (error) throw error;
                  var listLength = data[filename].length;
                  barChart.selectAll("rect")
                          .data(data[filename])
                          .enter()
                          .append("rect")
                          .attr("height",function(d,i){return height/listLength})
                          .attr("width","25")
                          .attr("y",function(d,i){return i*height/listLength})
                          .attr("fill", function(d,i){return d})
                          .attr("x","25")
                          .transition("1000")
                          .attr("x","0")
                          .attr("opacity","1");
                    });
              }

                $(".ex-container").mouseenter(function(){
                  var filename = $(this).find("img").attr("src").slice(19);
                  drawChart(filename, this.clientHeight);
                }).mouseleave(function(){
                  $(this).find(".ex-bar")
                        .css("z-index","-1")
                        .animate({left:0},'fast', function(){
                          $(this).remove()
                  }); 
                });
                </script>
          </div>
        </section>


    <div class="mod-nav">
        <ul class="mod-nav-list js-singular-nav">
            <li class="mod-nav-item"><a href="#sec01">1</a></li>
            <li class="mod-nav-item"><a href="#sec02">2</a></li>
            <li class="mod-nav-item"><a href="#sec03">3</a></li>
            <li class="mod-nav-item"><a href="#sec04">4</a></li>
            <li class="mod-nav-item"><a href="#sec05">5</a></li>
            <li class="mod-nav-item"><a href="#sec06">6</a></li>
            <li class="mod-nav-item"><a href="#sec07">7</a></li>
        </ul>

    </div>

    </div>
</div>
</body>
</html>
